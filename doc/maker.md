# 对Node.js创造者的访问

作者：mappingthejourney.com

Ryan Dahl是Google Brain的一名软件工程师。 他是Node.js的创建者。Node.js是基于Chrome的V8 JavaScript引擎构建的JavaScript运行时。 目前，他正致力于深入学习深度学习研究项目。 他的重点主要是图像到图像的变换，如着色和超分辨率。 他为几个开源项目做出了贡献，包括HTTP Parser，libuv。

普拉莫德：大家好。 欢迎来mappingthejourney旅程。 当我们听说Node.js时，我们也听说了Ryan Dahl。 他告诉我们，我们正在使用的I / O方法是完全错误的，并教会我们如何使用异步编程模型构建软件。 今天的客人是Ryan Dahl本人，一个黑客，杰出的程序员和Node的创造者。 让你参加这个节目让我感到非常兴奋和荣幸。 欢迎Ryan

Ryan：你好！ 很高兴在那里......在这里。

Pramod：Ryan我们知道你是Node的创造者，告诉我们你在搞技术之前之前的生活吗？

Ryan：当然。 我在圣地亚哥长大; 我六岁的时候，我的妈妈有一台Apple 2C，所以我想我早就可以使用电脑了。 顺便说一下，我才36岁。 所以，就像互联网出现一样，我成年了。 我去了圣地亚哥的社区学院，然后去了加州大学圣地亚哥分校，在那里我学习数学。 然后，我去了罗切斯特大学的数学研究生院。

是啊。 在那里，我研究了代数拓扑，这是一个非常抽象的主题，我发现它几年非常漂亮，但后来我厌倦了它，因为它似乎不适用于现实生活。 毕业后，好吧......那就是博士学位。 程序。 一旦我意识到我不想成为我余生的数学家，我就退出了那个项目。 并购买了一张前往南美洲的单程机票并在那里待了一年，在那里我有点挨饿的学生模式，并找到了一个与这个人做一些网站的工作，Eric。 这就是我的编程生涯开始的方式。 这个公司当时正在为一个滑雪板公司开发Ruby on Rails网站。

普拉莫德：太好了！ 这必须是退出博士学位的理由。 计划，前往南美洲并作为Web Dev工作。

Ryan：是的。 我的意思是，所以...来自研究生院，你习惯于处理非常抽象的问题，而在网站上工作则是一个非常具体的过程。 但我试图将它变成一个美丽的数学理论，就像我在研究生院接触过的那样。 而且我认为让我思考...我想我更喜欢Ruby开发，我想，你可以在Ruby中更清楚地表达你的想法。 这很有意思。 我认为Rails在这方面令人印象深刻。 它给了这个新的搭建软件的结构，当然实际上它并不是全新的，但我认为Rails推广了模型视图控制器的结构。而且你知道，这两件事结合在一起，对我来说真的很有趣。

Pramod ： 是的，构建Web应用程序非常有趣。 Ruby是一个完美的工具。 接下来，您继续在德国担任自由网络开发人员。 您参与的其中一个项目是Node。 我想你会在接下来的六到八个月内继续研究它吗？

Ryan：对。 因此，在离开南美之后，我和我的女朋友搬到了德国，因为她是德国人，不得不重返大学。 我开始在那里参加Ruby会议，人们在谈论这种新的模型视图控制器范例。 如果我正确地宣布这一点，其中一个人就是Chris Neukirchen。 他开发了名为Rack的项目，它是Web服务器的简化抽象。 因此，它将Web服务器转换为单一功能接口，您可以在其中获得请求，然后返回响应。

结合我自由职业时期在Nginx模块上为Engineyard做的一些，让我想到了......让我退后一步。 在Nginx中，一切都是异步的。 因此，当您为它构建模块时，必须非常小心地进行非阻塞。 是的，我认为Chris Neukirchen的Rack，加上Nginx的网络服务器与非阻塞IO，两者结合起来，可能是非常很有趣的一件事。

Pramod ： 现在你有了Rack和Nginx的想法。 “你是如何说服自己的，好吧我将在接下来的6个月内构建可以在服务器端运行Javascript的框架，这可能会大大提高性能？

Ryan：那么，那两个简化的Web服务器接口，就是Rack，以及异步部分，就是Nginx，我一直在考虑。 然后Chrome于2008年12月发布。随之而来的是V8 Javascript解释器。 我不应该说，解释器。 这是一个JIT运行时。 所以，当V8出来的时候，我开始用它来探索它，它看起来很迷人，干净，而且很快，突然间，我灵光一闪：哦！ Javascript是单线程的，每个人都在做非阻塞。

我用手指做了一个比划(Air quotes)，但就像在网络浏览器中一样，人们在制作AJAX请求时会发出非阻塞请求。 我想：哦，哇！ 我认为JavaScript加异步IO加上一些HTTP服务器的东西会很酷。 我对这个想法感到非常兴奋，因为我在接下来的四年里不停地努力。

Pramod ： 是的Javascript加async i / o工作得非常好。 我相信开发人员正在等待看到这样做的框架。 而且好奇，在这段时间里，有没有任何导师，或者你曾与任何人协商过“？ 还是只是你？

Ryan：只是我一个人。 我有一些编程的朋友给了建议，当然......我的意思是，第一点就是我在我的房间里。 但后来，我最终搬到旧金山，在Joyent工作，并结识了许多非常优秀的编程专业人士。 是的，很多人在那之后指导并提出了对Node做出贡献的想法。

普拉莫德：很好。 带我们完成您开发Node的过程。 我知道自从你在2009年创建Node以来，Ryan，已经很久了。

Ryan：我认为至少对我自己而言，生命中没有什么比我沉浸于我真正相信的想法更快乐的事情。并且有时间坐下来继续努力做到。 而且我认为Node是一个等待变成现实的想法，并且我还没有做过; 我不做的话，别人会去做的。 但事实恰恰相反，我刚好处于失业状态，并有一些空闲时间，可以连续工作几个月，这正是一个初创产品所需要的。 所以，是的，这很棒，很有趣。

普拉莫德 ： 很好。 这太妙了。 你做得很好。 Node建立在“纯异步”编程模型的基础之上。 这个想法是如何为Nodejs制定出来的？

Ryan：是的，我认为这是一个非常有趣的问题。 现在，已经有好几年了，自从2012年或2013年以来我一直没有在Node上工作。当然，Node在这一点上是一个很大的项目。 所以，是的，我想......当它第一次出现时，我四处奔走并进行了一系列谈话，试图说服人们应该这样做。 也许我们正在做的I / O方式是错误的，也许如果我们以非阻塞方式完成所有事情，我们就可以解决编程方面的许多困难。 也许我们可以完全忘记线程，只使用流程抽象和序列化通信。 但是在一个进程中，我们可以完全异步处理许多请求。 我当时坚信这个想法，但在过去的几年里，我认为这可能不是编程的最终目的。 特别是当Go出来的时候。

嗯，我想Go很久以前就出来了，但是当我第一次听到关于Go的时候，大约是2012年。他们有一个非常好的运行时，有适当的绿色线程和易于使用的抽象。 我认为阻塞I / O - 再次阻止引号中的I / O，因为它在Go和操作系统之间的接口处都是绿色线程，我认为它都是非阻塞I / O.

但是它们呈现给用户的接口是阻塞的，我认为这是一个更好的编程模型。 如果它阻塞，你可以更容易地思考你在很多情况下所做的事情。 你知道，如果你有一堆以下的行动，那么能够说：做事A，等待回应，可能是出错，这很好。 做事B，等待回复，错误出来。 在Nodejs中，这更难，因为你必须跳转到另一个函数调用。

Pramod ：是的，我喜欢Go的编程模型。 使用goroutines非常简单有趣。 实际上，我们正在使用工作来构建分布式应用程序。

Ryan：是的，我认为这是...对于特定类别的应用程序，就像，如果你正在构建一个服务器，我无法想象使用Go以外的任何东西。 也就是说，我认为Node的非阻塞范式对于没有线程的JavaScript来说效果很好。 而且我认为很多回调抵御的问题，你必须跳进许多匿名函数来完成你正在做的事情，在如今这个问题已经减轻，使用async关键字，async功能现在已经是Javascript的一部分。

所以，Javascript的新版本使这更容易。 也就是说，我认为Node不是构建大规模服务器网络的最佳系统。 我会用Go来做到这一点。 老实说，这就是我离开Node的原因。 它意识到：哦，实际上，这不是有史以来最好的服务器端系统。

是啊。 我认为Node在客户端很奇怪。 所以，在构建网站时做一些脚本。 例如，Browserify。 一种捆绑客户端Javascript。 因此，您可以使用客户端Javascript的所有这些服务器端处理。 然后，你知道，可能是小型服务器......也许是小型开发服务器，而且在这里和那里，也许有一些真正的服务器提供实时流量。 Node.js可能很有用，或者它可能是正确的选择。 但是，如果您正在构建一个大规模分布式DNS服务器，我不会选择Node。

Pramod ：对于全世界的所有开发者来说，这应该是一个很好的选择。 选择合适的应用工具非常重要。 你对Node没有任何偏见。 您在JsConf 2009 Berlin中向世界介绍了Node.js. 它突然收到的成功和牵引力让你感到惊讶吗？

Ryan：是的。 我的意思是，我基本上处于连续四年的惊喜状态。 因为它变得非常快，人们非常喜欢它。 嗯是的。

Pramod ：此后你加入了Joyant，并在Node上全职工作，你搬到了SF吧？ 经历如何？ 开发人员喜欢它，你就是这一切的中心。

Ryan：当然，这是一次一生的经历，我觉得这是一切的中心，在会议等等。 有一次，我去了日本，人们要求和我一起拍照，我意识到......我不知道; 我觉得有点奇怪。 同样在线，我想在那个时候，我觉得每当我评论一些东西时，我会得到100个人的反应。

所以，我发现我必须非常谨慎地选择我的话，以及我是如何展示自己的，因为看起来人们在听，这很奇怪。 而且我不喜欢它的那个方面。 我的意思是，我是一名程序员，我想编写代码，有时会分享我的意见，而不必过于仔细考虑。 所以，我想我不是一个......是的。 我没那么喜欢它的那个方面。

Pramod ：当你介绍Node时，你是29,30？ 而Node.js产生了如此巨大的影响。

Ryan： 是的。 我的意思是，那时我肯定是一个新手开发者。

普拉莫德：好的。 Ryan，同时有很多服务器端的JavaScript项目。 Node.js不是唯一的Node.js。 您认为Node的成功是什么？

Ryan：对。 因此，有几个人试图让服务器端的JavaScript事情发生。 我甚至不能再列举它们了，我忘了它们是什么。 好吧，无论如何。

问题是他们都在阻止I / O，而且由于你没有线程而没有Javascript的结构。 因此，如果您正在阻止I / O，那么您实际上无法提供请求。 就像，你一次做一个，这是永远不会工作的。 那，加上我喜欢的事实，坐下来让HTTP服务器运行良好。 所以，我有一个演示，你可以......我有一个HTTP服务器，然后是一个原始的TCP服务器。 而且我让这些东西运作良好，以便人们可以坐下来建立一个网站，而不会经历太多的麻烦。

老实说，构建一个Web服务器并不是最简单的事情，我认为很多这些系统都留给他们的社区来做，因此，没有人这样做。 因为没有什么可以使用系统。 我认为重要的是，当您发布软件框架或任何软件时，您有一个人们可以坐下来立即使用的演示。 这是Node的最佳选择之一; 是人们可以下载它并直接使用Web服务器。

Pramod ：是的。 好的演示以及如果人们可以轻松下载，安装和使用它会产生很大的不同。 此外，人们知道javascript，他们可以立即开始编码。 当我开始在Node.js上工作时，它就更容易了，因为我很熟悉javascript。

Ryan：是的。 我认为我们理所当然地认为在语言之间切换是多么容易。 我的意思是，即使你知道另一种语言，制作这种背景，这是非常困难的。 而且有很多人非常熟悉Javascript。 给他们这些工具，以便能够在其他环境中使用它激发人们的兴趣。 你突然可以比以前做得更多。

Pramod ： 是的。 2012年，Node.js已经拥有庞大的开发人员基础。 你为什么要离开，将缰绳交给Joyent的Isaac Schlueter？

Ryan：是的。 对。 所以，我的意思是，我认为这是几件事的结合。 所以，我认为最重要的是，那时，我已经在Node上工作了四年。 我已经达到了我想要的程度。 我从不希望Node成为一个庞大的API。 我希望它是一种小型，紧凑的核心，人们可以在其上构建模块。

还有一些主要的东西......我想要支持的关键功能。 因此，早期增加了扩展模块; 我们得到了所有网络库，HTTP，UDP，TCP，我们可以访问所有文件系统。

然后，有一大块，可能是一年的工作，像五个人，正在把它放到Windows并正确地做到这一点。 我们希望将Windows抽象用于异步IO，这是它们的IO完成端口。 因此，这需要重写核心库，其结果是libuv库。

是的，但在某些时候，所有这一切都已完成，我们已经在Windows上发布了。 而且你知道，它就像是这样：好吧。 我的意思是，这是我打算创造的，我很高兴我有机会完成它。 当然，你知道，将会有无数的错误来解决我的余生，但是......你知道，有足够多的人参与其中。 我不需要这样做，我想做其他事情。 所以，加上Go出来的事实，我没有看到Node是服务器的终极解决方案。 然后，是的，每当我发表博客文章时，也只是不想成为关注的焦点。

普拉莫德： 很好。 是的，有些人不喜欢被人们所关注。 当你开始使用Node时，你肯定有一些目标。 今天Node.js如何与它相抗衡？

Ryan ： 我的意思是......Node.js被成千上万的人使用，如果不是数百万人，我认为它肯定超出了我认为会发生的任何期望。 是的，很酷。

Pramod ： Ryan在你与Node的精彩旅程之后，你决定做什么工作？

Ryan：所以，在Node之后，我搬了......在我离开Joyent并退出Node项目之后，我搬到了纽约，并花了一些时间来完成我的项目。 所以，我有一堆项目。 你知道，当时Instagram已经问世了，它很新，而且看起来很简单，而且每个人都在说：哇，这太简单了，我可以把它建成。 我忍不住想出同样的事情。 所以，我有一个社交网络项目; 我有一个用于C ++的构建系统项目，我有另一个用于HTML的构建系统项目，有点像Browserify，它可以打包你的Javascript和HTML，但是更聪明。

是的，我有一堆项目，其中没有一个项目在我的脑海中真正实现了。 虽然我认为其中一些目前仍然处于困境，就像我的社交网络项目一样，我将在某个时候回到这个项目。 是的，我这样做了一段时间。 然后我开始阅读...好吧，我开始听到卷积网络和图像分类如何解决，这让我对机器学习感兴趣。

Pramod ：您也是Google Brain的Residency计划的一部分。 那段经历怎么样？

Ryan：是的。 所以，我在山景城度过了一年。 所以，退一步。 所以，TensorFlow两年前发布了。

随之而来的是，他们宣布了这项Google Brain驻留计划，他们邀请了20人来到Google Brain，这是Google的机器学习研究实验室之一。 而且人们......我认为用它来创作的想法并不一定是那些曾经学过机器学习但是有一些数学和编程背景的人，并且对机器学习感兴趣，喜欢和喜欢这些新想法。 因为机器学习正在快速变化，并且已经完成了大量的工作。

但是现在社区已经将神经网络缩小为最有用的机器学习算法，这可能只是引入了一大堆人并且只是玩弄它，而这个新的ML框架，称为TensorFlow，会导致一些有趣的想法。 所以，是的，我在那里度过了一年，基本上编程模型和撰写关于这些模型的论文。 我主要处理图像到图像转换问题。 所以，你知道，如果你有一些输入图像，你想要预测一些输出图像。 我发现这个问题很有意思，因为，例如......让我举一些例子。

所以，着色问题。 您可以将黑白照片作为输入，您可以尝试将图片的颜色预测为输出。 这个问题很酷的是有无限的训练数据。 您可以拍摄任何彩色照片并对其进行去饱和，然后这就是您的输入图像，对吧？

因此，机器学习的一个问题是您需要大量数据，而对于这类任务，这个问题不是问题。 而且，最近在生成模型中已经做了很多工作，即输出图像的模型。 特别是，有生成对抗性网络和像素CNN，它已经证明了学习自然图像的多样性的能力，就像真正理解真实图像是什么，什么不是实际图像，看起来像是什么真实的形象。

所以，是的，我的想法是将最近的工作放在生成模型中并采用这种无限的训练数据，看看我们是否可以做一些图像转换问题。 所以，我做了一些关于超分辨率的工作，它采用低分辨率图像并提高分辨率。 这也是图像到图像转换问题。 我现在已经完成了两个关于着色的项目。

Pramod：很好的解释Ryan。 是的，我已经读过，张量流是许多机器学习问题的一个很好的平台。 图像分类，转换，我没有得到太多，但我相信它是迷人的。 你在继续你的ML工作吗？

Ryan：对。 所以现在，作为一名软件工程师，我仍然在Google工作，处理同样的问题。 研究生成模型并试图帮助研究人员构建下一代系统，下一代模型。

Pramod：很好的生成模型，与之前的javascript，Node.js或Web开发工作有很大的不同。

Ryan： 是的，我想是的。 但我也从数学开始，所以我有一个相当不错的数学知识基础，我想。 是的，我猜...我认为人们喜欢将其他人弯曲到某些区域，我不想那样做。 我不想成为一个Javascript人，我不想成为一个机器学习者。 你知道，我认为人们...只是探索可能的事情是有趣的。 令人兴奋的是建立一些以前没有做过的新事物，这可能会以某种方式使人类受益。

普拉莫德： 很好。 是的，很高兴知道机器学习需要良好的数学背景。 在你最近的一篇关于乐观虚无主义的博客中，你说我们有一天能够模仿大脑并建立一个像人类一样理解和思考的机器。 我们在多大程度上实现了这一目标？

Ryan：是的。 我必须对预言有点小心......我的意思是，这是我的看法。 我们远不及人类智慧。 我的意思是，我们使用的机器学习系统非常非常简单，根本不起作用。 事实上，我有一篇关于我的居住权的博客文章，其中列举了开发这些模型时遇到的所有困难。 我认为那些不在该领域工作的人有这样的想法，你可以采取这种模式，并通过它推送一些数据，它只是工作。 但事实并非如此。 这些东西非常挑剔且不太清楚，需要经过许多个月的仔细调整和实验才能获得最适度的结果。

所以，我们离它不远了，但是说，我认为这个基础......最近有一些有希望的技术得到了改进，即卷积网似乎有效，而且传播似乎有效。 事实上，这些东西是基于一个模型，这个神经网络模型，不是大脑般的，但大脑以某种方式激发它，是非常诱人的。 我们还有GPU，我们展示了如何在这些方面进行培训并在一定程度上在GPU之间分配培训。 所以，我认为......建立更大，更智能的系统的基础正在发生。 而就我个人而言，我是一个无神论者，而且我相信除了化学物质和神经元之外，我脑子里除此之外别无他物。 而且我认为我的意识，我们所有的意识都以某种方式编码在这些神经元之间的相互作用中。 所以，我不明白为什么有一天我们无法在这个领域进行足够的研究和工作，模仿这种行为。 预测这将会持续多长时间太过分了。

普拉莫德： 很好。 您已经看到了所有Ryan以及您希望在未来20年内在哪里看到技术？

Ryan：我的意思是，我对机器学习及其带来的可能性感到非常兴奋。 我认为，在我们获得真正的人工智能之前，就像之前一样，这种技术有很多应用。 我的意思是，任何你可以......戴上智能玻璃的系统都可以帮助你，从这项技术中获益匪浅。 所以，你知道，只有无数的工业流程可以利用这种事情。 我认为回收中心，排序......分类回收与计算机视觉，什么不是。 我的意思是，只有许多系统可以从简单的机器学习系统中受益。 而且我认为我们将越来越多地将这些系统应用于不同的流程。 所以，我认为这将对科技行业产生重大影响，并且对整个人类产生重大影响。

Pramod ： 是机器学习非常令人兴奋。 当我在山景城看到自动驾驶汽车时，我非常兴奋。 有一天，我想坐下来完全控制。 谢谢你，Ryan，为我们提供了这个漂亮的框架Node.js，并感谢你在节目中。 祝你未来的项目顺利。 很高兴和你说话

Ryan： 是的，太棒了。 感谢拥有我，谈论它很有趣。

普拉莫德： 谢谢。 就是这样，听众。 我非常喜欢和Ryan说话，这是一个谦逊而且很棒的家伙。 他早年在科技方面取得了如此多的成就。 这样一个鼓舞人心的故事。 再见，我将在两周后与另一个有趣的旅程见面。 Shukriya。

ref：https://mappingthejourney.com/single-post/2017/08/31/episode-8-interview-with-ryan-dahl-creator-of-nodejs/